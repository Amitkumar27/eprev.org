(function(){'use strict';function a(o,p){let q=!1;return function(...s){q||(q=!0,requestAnimationFrame(()=>{o.apply(p,s),q=!1}))}}const b=Element.prototype;'function'!=typeof b.matches&&(b.matches=b.msMatchesSelector),'function'!=typeof b.closest&&(b.closest=function(o){for(let p=this;p&&1===p.nodeType;){if(p.matches(o))return p;p=p.parentNode}return null});const{PI:c,abs:d,min:f,sin:g,cos:h,atan:i}=Math,j=(()=>{const o=document.createElementNS('http://www.w3.org/2000/svg','svg');o.setAttribute('viewBox','0 0 2 2'),Object.assign(o.style,{position:'absolute',top:0,left:0,width:'2px',height:'2px'}),o.innerHTML='<rect width="1" height="1" style="transform: translate(1px, 1px)"/>',document.body.appendChild(o);const p=document.elementFromPoint(1,1)!==o;return o.parentNode.removeChild(o),p})(),k=24,l=function(o,...p){return p[1===o?0:1]},m=document.querySelector('[data-issue-id]');if(m){const o=m.dataset.issueId;fetch(`https://api.github.com/repos/eprev/eprev.org/issues/${o}`,{headers:new Headers({Accept:'application/vnd.github.v3.text+json'})}).then(p=>{200===p.status&&p.json().then(q=>{const r=q.comments;if(r){const s=`There ${l(r,'is','are')} <a href="https://github.com/eprev/eprev.org/issues/${o}">${r} ${l(r,'comment','comments')}</a> on this (visit the postâ€™s issue page on GitHub)`;m.innerHTML=s}})})}(function(p){function q(){const I=window.innerHeight,{top:J,bottom:K,height:L}=p.getBoundingClientRect();0<=J&&J<I||0<K&&K<=I||L>I&&0>J&&K>I?r():s()}function r(){A.forEach(I=>{const{left:J,top:K,width:L,height:M}=I.el.getBoundingClientRect();I.left=J+window.pageXOffset+L/2,I.top=K+window.pageYOffset+M/2}),document.addEventListener('mousemove',F),document.addEventListener('touchstart',G),document.addEventListener('touchend',H),document.addEventListener('touchcancel',H)}function s(){z(),document.removeEventListener('mousemove',F),document.removeEventListener('touchstart',G),document.removeEventListener('touchend',H),document.removeEventListener('touchcancel',H)}function t(I,J,K){j?I.style.transform=`translate(${J}px, ${K}px)`:I.setAttribute('transform',`translate(${J} ${K})`)}function u(I,J=1,K=1,L=0,M=0){const N=`matrix(${J}, 0, 0, ${K}, ${L*(1-J)}, ${M*(1-K)})`;j?B.style.transform=N:B.setAttribute('transform',N)}function v(I,J,K){const L=J?0>J?c+i(K/J):i(K/J):0,M=f(k,d(J))*h(L),N=-1*(f(k,d(K))*g(L));t(I,M,N)}function w(I=250){D||(D=!0,clearTimeout(C),C=setTimeout(()=>u(B,0.25,1.5,208,436),I))}function z(I=125){D&&(D=!1,clearTimeout(C),C=setTimeout(()=>u(B),I))}const A=[{el:p.querySelector('[data-id=right-eye]')},{el:p.querySelector('[data-id=left-eye]')}],B=p.querySelector('[data-id=mouth]');j&&(A.forEach(I=>I.el.style.willChange='transform'),Object.assign(B.style,{willChange:'transform',transitionDuration:'.25s',transitionProperty:'transform'}));let C=null,D=!1;const E=a(()=>{q()}),F=a(I=>{A.forEach(J=>{v(J.el,I.pageX-J.left,J.top-I.pageY)}),I.target.closest('a')?w():z()}),G=a(I=>{const J=I.touches.item(0);A.forEach(K=>{v(K.el,J.pageX-K.left,K.top-J.pageY)}),w(0)}),H=a(()=>{z(0)});return window.addEventListener('scroll',E,{passive:!0}),window.addEventListener('resize',E),q(),{resume:r,pause:s}})(document.querySelector('.page__user-picture'))})();