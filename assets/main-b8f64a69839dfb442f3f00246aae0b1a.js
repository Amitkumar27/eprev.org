(function(){'use strict';function a(l,m){let n=!1;return function(...p){n||(n=!0,requestAnimationFrame(()=>{l.apply(m,p),n=!1}))}}const b=Element.prototype;'function'!=typeof b.matches&&(b.matches=b.msMatchesSelector),'function'!=typeof b.closest&&(b.closest=function(l){for(let m=this;m&&1===m.nodeType;){if(m.matches(l))return m;m=m.parentNode}return null});const{PI:c,abs:d,min:f,sin:g,cos:h,atan:i}=Math,j=(()=>{const l=document.createElementNS('http://www.w3.org/2000/svg','svg');l.setAttribute('viewBox','0 0 2 2'),Object.assign(l.style,{position:'absolute',top:0,left:0,width:'2px',height:'2px'}),l.innerHTML='<rect width="1" height="1" style="transform: translate(1px, 1px)"/>',document.body.appendChild(l);const m=document.elementFromPoint(1,1)!==l;return l.parentNode.removeChild(l),m})(),k=24;(function(m){function n(){const F=window.innerHeight,{top:G,bottom:H,height:I}=m.getBoundingClientRect();0<=G&&G<F||0<H&&H<=F||I>F&&0>G&&H>F?o():p()}function o(){w.forEach(F=>{const{left:G,top:H,width:I,height:J}=F.el.getBoundingClientRect();F.left=G+window.pageXOffset+I/2,F.top=H+window.pageYOffset+J/2}),document.addEventListener('mouseover',D),document.addEventListener('mouseout',E),document.addEventListener('mousemove',C)}function p(){v(),document.removeEventListener('mouseover',D),document.removeEventListener('mouseout',E),document.removeEventListener('mousemove',C)}function q(F,G){const H=F.target;if(H.closest(G)){let I=F.relatedTarget;for(;I&&I!==H;)I=I.parentNode;return I!==H}return!1}function r(F,G,H){j?F.style.transform=`translate(${G}px, ${H}px)`:F.setAttribute('transform',`translate(${G} ${H})`)}function s(F,G=1,H=1,I=0,J=0){const K=`matrix(${G}, 0, 0, ${H}, ${I*(1-G)}, ${J*(1-H)})`;j?z.style.transform=K:z.setAttribute('transform',K)}function t(F,G,H){const I=G?0>G?c+i(H/G):i(H/G):0,J=f(k,d(G))*h(I),K=-1*(f(k,d(H))*g(I));r(F,J,K)}function u(){clearTimeout(A),A=setTimeout(()=>s(z,0.25,1.5,208,436),250)}function v(){clearTimeout(A),A=setTimeout(()=>s(z),125)}const w=[{el:m.querySelector('[data-id=right-eye]')},{el:m.querySelector('[data-id=left-eye]')}],z=m.querySelector('[data-id=mouth]');j&&(w.forEach(F=>F.el.style.willChange='transform'),Object.assign(z.style,{willChange:'transform',transitionDuration:'.25s',transitionProperty:'transform'}));let A=null;const B=a(()=>{n()}),C=a(F=>{w.forEach(G=>{t(G.el,F.pageX-G.left,G.top-F.pageY)})}),D=a(F=>{q(F,'a')&&u()}),E=a(F=>{q(F,'a')&&v()});return window.addEventListener('scroll',B,{passive:!0}),window.addEventListener('resize',B),n(),{resume:o,pause:p}})(document.querySelector('.page__user-picture'))})();