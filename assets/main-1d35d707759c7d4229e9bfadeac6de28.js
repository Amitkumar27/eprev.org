(function(){'use strict';function a(l,m){let n=!1;return function(...p){n||(n=!0,requestAnimationFrame(()=>{l.apply(m,p),n=!1}))}}const b=Element.prototype;'function'!=typeof b.matches&&(b.matches=b.msMatchesSelector),'function'!=typeof b.closest&&(b.closest=function(l){for(let m=this;m&&1===m.nodeType;){if(m.matches(l))return m;m=m.parentNode}return null});const{PI:c,abs:d,min:f,sin:g,cos:h,atan:i}=Math,j=(()=>{const l=document.createElementNS('http://www.w3.org/2000/svg','svg');l.setAttribute('viewBox','0 0 2 2'),Object.assign(l.style,{position:'absolute',top:0,left:0,width:'2px',height:'2px'}),l.innerHTML='<rect width="1" height="1" style="transform: translate(1px, 1px)"/>',document.body.appendChild(l);const m=document.elementFromPoint(1,1)!==l;return l.parentNode.removeChild(l),m})(),k=24;(function(m){function n(){const D=window.innerHeight,{top:E,bottom:F,height:G}=m.getBoundingClientRect();0<=E&&E<D||0<F&&F<=D||G>D&&0>E&&F>D?o():p()}function o(){v.forEach(D=>{const{left:E,top:F,width:G,height:H}=D.el.getBoundingClientRect();D.left=E+window.pageXOffset+G/2,D.top=F+window.pageYOffset+H/2}),document.addEventListener('mousemove',C)}function p(){u(),document.removeEventListener('mousemove',C)}function q(D,E,F){j?D.style.transform=`translate(${E}px, ${F}px)`:D.setAttribute('transform',`translate(${E} ${F})`)}function r(D,E=1,F=1,G=0,H=0){const I=`matrix(${E}, 0, 0, ${F}, ${G*(1-E)}, ${H*(1-F)})`;j?w.style.transform=I:w.setAttribute('transform',I)}function s(D,E,F){const G=E?0>E?c+i(F/E):i(F/E):0,H=f(k,d(E))*h(G),I=-1*(f(k,d(F))*g(G));q(D,H,I)}function t(){A||(A=!0,clearTimeout(z),z=setTimeout(()=>r(w,0.25,1.5,208,436),250))}function u(){A&&(A=!1,clearTimeout(z),z=setTimeout(()=>r(w),125))}const v=[{el:m.querySelector('[data-id=right-eye]')},{el:m.querySelector('[data-id=left-eye]')}],w=m.querySelector('[data-id=mouth]');j&&(v.forEach(D=>D.el.style.willChange='transform'),Object.assign(w.style,{willChange:'transform',transitionDuration:'.25s',transitionProperty:'transform'}));let z=null,A=!1;const B=a(()=>{n()}),C=a(D=>{v.forEach(E=>{s(E.el,D.pageX-E.left,E.top-D.pageY)}),D.target.closest('a')?t():u()});return window.addEventListener('scroll',B,{passive:!0}),window.addEventListener('resize',B),n(),{resume:o,pause:p}})(document.querySelector('.page__user-picture'))})();