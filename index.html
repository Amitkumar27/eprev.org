


<!DOCTYPE html>
<html lang="en"><head>
    <script>
        if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {
            document.documentElement.classList.add('support__touch_yes');
        } else {
            document.documentElement.classList.add('support__touch_no');
        }
     </script>
    <link href="/assets/css/v/12/magic.min.css" rel="stylesheet" media="all"/>
    
    <meta charset="utf-8"/>
    
        <title>Anton Eprev</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
        <meta name="description" content="Hello. My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands."/>
    
    <link rel="shortcut icon" href="/assets/icon.png"/>
    <link rel="alternate" type="application/atom+xml" title="Feed" href="/atom.xml"/>
    
</head><body>
    
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-12144011-2']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    
    <div class="page">
        <div class="page__arrow page__arrow_alt"></div>
        <div class="page__inner page__inner_animated">
            <div class="page__content" role="main">


    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2015/05/27/converting-png-to-svg">Converting PNG to SVG</a>
        
    </h2>
    <div class="post__meta">
        May 27, 2015
        
            ∙
            
                <a href="/tags/svg">svg</a>
            
        
    </div>
    
        <div class="post__content">
            
            <p>Let’s say, you’ve found a funny black-and-white picture on the Internet and you want it badly in hi-res or vector which is even better. Well, there is a command-line tool called <a href="http://potrace.sourceforge.net">Potrace</a>.</p>

<h3 id="installation">Installation</h3>

<p>It has precompiled distributions for OS X, Linux and Windows. Potrace is also available in major package managers, including <a href="http://brew.sh/">Homebrew</a>:</p>

<pre><code>$ brew install potrace
</code></pre>

<p>The manual installation is super easy, however. For OS X do the following:</p>

<pre><code>$ cd potrace-1.12.mac-i386
$ sudo cp mkbitmap.1 potrace.1 /usr/share/man/
$ sudp cp mkbitmap potrace /usr/local/bin
</code></pre>

<h3 id="usage">Usage</h3>

<p>Potrace works with bitmaps (PBM, PGM, PPM, or BMP format). It means you have to convert the image you have to one of those formats. We will be using <a href="http://www.imagemagick.org">ImageMagick</a>’s <code>convert</code> program. If you don’t have it installed, you can use Homebrew to get it:</p>

<pre><code>$ brew install imagemagick
</code></pre>

<p>Alright. Let’s say you’ve got this image (by <a href="http://nationofamanda.tumblr.com/">Nation of Amanda</a>) in PNG format with transparency:
<img src="/assets/posts/party-never.png" alt="‘Nap all day, sleep all night, party never’ by Nation of Amanda" />
All you need to do is to run this:</p>

<pre><code>$ convert -alpha remove party-never.png pgm: \
| mkbitmap -f 32 -t 0.4 - -o - \
| potrace --svg -o party-never.svg
</code></pre>

<p>It converts PNG file to PGM format, removes image transparency, outputs the result image to the standard input of <code>mkbitmap</code> that transforms the input with highpass filtering and thresholding into a suitable for the <code>potrace</code> program format, that finally generates SVG file. You can play around with highpass filtering (<code>-f</code>) and thresholding (<code>-t</code>) values until you have the final look that you want.</p>

<p>As a result you might have now:
<img src="/assets/posts/party-never.svg" alt="‘Nap all day, sleep all night, party never’ by Nation of Amanda" />
That’s it.</p>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2015/03/29/whats-worth-watching">What’s worth watching</a>
        
    </h2>
    <div class="post__meta">
        March 29, 2015
        
            ∙
            
                <a href="/tags/worth-watching">worth-watching</a>,
            
                <a href="/tags/devops">devops</a>
            
        
    </div>
    
        <div class="post__content">
            
            <ul class="post__content__list">
  <li>“<a href="https://www.youtube.com/watch?v=X0VH78ye4yY">Big Code: Developer Infrastructure at Facebook’s Scale</a>” (F8 2015): what is it like to be an engineer at Facebook; moving from Git towards Mercurial; Atom-based IDE for App, server-side and client-side development; continues integration at Facebook.</li>
  <li><a href="https://twitter.com/holman">Zach Holman</a> (GitHub) on “<a href="http://www.bbc.co.uk/academy/technology/article/art20150206154333467">Move fast and break nothing</a>”: how to ship software changes fast and not to break things.</li>
</ul>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2015/02/05/introduction-to-css-explorer">Introduction to CSS Explorer</a>
        
    </h2>
    <div class="post__meta">
        February 5, 2015
        
            ∙
            
                <a href="/tags/css">css</a>,
            
                <a href="/tags/javascript">javascript</a>
            
        
    </div>
    
        <div class="post__content">
            
            <p>I’ve been curious about the state of our CSS code and its changes over the time.
So I’ve written recently a program called <a href="https://github.com/eprev/specificity"><code>specificity</code></a>.
What does it do? It answers the following questions:</p>

<ol>
  <li>What is a total number of selectors in your CSS codebase?
How has it been changing over the time?</li>
  <li>What is a maximum/average/median selector‘s specificity of your CSS codebase?
How has it been changing over the time?</li>
  <li>How does the distribution of selector‘s specificity of your CSS codebase look like?
How has it been changing over the time?</li>
  <li>How many selectors in your CSS codebase contain at least one rule with the <code>!important</code> directive?
How has it been changing over the time?</li>
</ol>

<p>Wait, why is it so important? It’s not, until you have a codebase of dozens of
thousands lines of code that is hard to maintain and you do a lot of experiments.
And of course, if it’s not even important, it’s quite interesting at least.</p>

<p><img src="/assets/posts/css-explorer-distribution.png" alt="CSS specificity chart" /></p>

<p>So, <code>node-specificity</code> provides two commands. One is for parsing your CSS files and creating profiles.
Second is for reading or “exploring” these profiles. Let’s look at an example. I have a few versions of
<a href="https://github.com/eprev/specificity/tree/master/spec/fixtures/timeline">CSS</a> of the website
you’re reading right now. As I’m writing this post the website is using <code>v8.css</code>.</p>

<p>Alright, let’s create profiles for these files:</p>

<pre><code>$ node-specificity parse v1.css --label=v1 --output=v1.json
...
$ node-specificity parse v8.css --label=v8 --output=v8.json
</code></pre>

<p>We’ve created a profile for each CSS file since we want to observe changings over the time. If you use
more than one CSS file on your website, you have to create a profile for all of them, for instance:</p>

<pre><code>$ node-specificity parse main.css print.css --label=2014-12-23 --output=20141223.json
</code></pre>

<p>Label acts as a profile’s name in reports. Once we have profiles created, we are able to run a report.
Let’s start a ‘server’ report:</p>

<pre><code>$ node-specificity explore v*.json --report=server
Server is running on http://localhost:4000/
Press Ctrl + C to stop it.
</code></pre>

<p>Open a browser and go to “http://localhost:4000/”. Now you’re supposed to be seeing the page
with different controls and a weird graph. It‘s the specificity distribution chart (see in
the picture above). For each specificity (tuple) it shows the total number of selectors
of this specificity in the specific profile.</p>

<p>Other graphs are: number of selectors in your CSS files and total number of selectors in profiles,
how many of them contain rules with the <code>!important</code> directive, average and median
values of selector’s specificity for CSS files and profiles.</p>

<p><img src="/assets/posts/css-explorer-selectors.png" alt="Number of selectors chart" /></p>

<p>You are able to explore all these graphs for a specific profile. To do this, you have to
select the particular profile’s label in the dropdown list. For instance, it’s the specificity
distribution bar chart for ‘v8.json’ profile in the picture below.</p>

<p><img src="/assets/posts/css-explorer-profile.png" alt="CSS specificity chart" /></p>

<p>So, <code>server</code> report is quite a powerful tool. Bear in mind, images above are for the profiles
of one humble CSS file. If you have a few files for profile, it gets better.</p>

<p>There is also <code>inspect</code> report (it’s used as the default one). If you run <code>node-specificity explore v8.json</code>,
it will print out the list of all selectors in the given profile, the summary on specificity numbers
and the specificity distribution chart, which is very similar to the one you can see above.</p>

<p><img src="/assets/posts/css-explorer-cli.png" alt="Screenshot of the ‘inspect’ report" /></p>

<p>Reports can accept additional command line options. There are few of them. In the example above,
<code>--no-inspect-selectors</code> option has been used. It disables printing out the list of all selectors.</p>

<p>That’s it. Happy exploring!</p>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2015/01/26/whats-worth-watching">What’s worth watching</a>
        
    </h2>
    <div class="post__meta">
        January 26, 2015
        
            ∙
            
                <a href="/tags/worth-watching">worth-watching</a>,
            
                <a href="/tags/javascript">javascript</a>,
            
                <a href="/tags/devops">devops</a>
            
        
    </div>
    
        <div class="post__content">
            
            <ul class="post__content__list">
  <li><a href="https://twitter.com/KirbySayshi">Drew Petersen</a> (Spotify) on “<a href="https://www.youtube.com/watch?v=uNVP5jDOVAY">Developing Games Using Data not Trees</a>”: cons and pros of using data-oriented approach in game development.</li>
  <li><a href="https://twitter.com/danielespeset">Daniel Espeset</a> (Etsy) on “<a href="https://vimeo.com/109912254">The role of Front-end Infrastructure at Etsy</a>”: continuos deployment and experimentation-driven development, instruments that help to delete old code constantly.</li>
</ul>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2014/12/10/open-all-modified-files">Open all modified files in editor</a>
        
    </h2>
    <div class="post__meta">
        December 10, 2014
        
            ∙
            
                <a href="/tags/git">git</a>
            
        
    </div>
    
        <div class="post__content">
            
            <p>Often I finish working day without committing changes to the repository. Thus, next morning
I need to open all the files I was working yesterday. And I found an efficient way to do this.</p>

<pre><code>$ vim -p $(git diff --name-only HEAD | sed "s,$(git rev-parse --show-prefix),," | tr "\n" " ")
</code></pre>

<p>It opens Vim and loads all modified files in tabs. You could add this command as an alias to your <code>.bashrc</code>,
but adding this to <code>.gitconfig</code> seems like a better option. This is what you need to add to your <code>~/.gitconfig</code>.</p>

<pre><code>[alias]
open = "!vim -c \"cd $GIT_PREFIX\" -p $(git diff --name-only HEAD | tr '\\n' ' ')"
</code></pre>

<p>To run this command you need to type <code>git open</code> in the terminal. Since all commands prefixed with an exclamation
point are executed from the top-level directory of a repository, we need to change working directory in Vim to
the current one. And of course you can replace Vim by your favorite editor or event by <code>$EDITOR</code>.</p>

<p>Besides, If you use sort of file watchers to perform certain operations when files change, then
you would find the following command quite helpful. It changes modification time of all modified files at once.</p>

<pre><code>[alias]
touch = "!touch -c $(git diff --name-only HEAD | tr '\\n' ' ')"
</code></pre>

<p>You can find more handy aliases in <a href="https://github.com/eprev/dotfiles/blob/master/gitconfig">.dotfiles</a> of mine.</p>

        </div>
    
</div>

    

    

    

    

    

    

    

    


<div class="post">
    <h3 class="post__header">
        <a class="page__header__link" href="/archive/">Archive</a> &rsaquo;
    </h3>
</div>

            </div>
            <div class="page__sidebar">
                <div class="page__sidebar__inner">
                    
                        <h1 class="page__user__name">@eprev</h1>
                    
                    <div class="page__user__picture"></div>
                    <p>My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands.</p>
                    <ul class="page__nav">
                        <li>
                            
                                Recent
                            
                        </li>
                        <li>
                            
                                <a href="/archive/">Archive</a>
                            
                        </li>
                        <li>
                            
                                <a href="/labs/">Laboratory</a>
                            
                        </li>
                        <li>
                            
                                <a href="/tags/">Tags</a>
                            
                        </li>
                    </ul>
                    <p>Geeky Links:</p>
                    <ul class="page__nav">
                        <li><a href="http://twitter.com/eprev">Twitter</a></li>
                        <li><a href="http://github.com/eprev">GitHub</a></li>
                        <li><a href="http://www.flickr.com/photos/eprev/">Flickr</a></li>
                        <li><a href="http://careers.stackoverflow.com/eprev">Résumé</a></li>
                    </ul>
                </div>
                <script>
                    var requestAnimationFrame = window.requestAnimationFrame || /* Chrome, IE 10 */
                        window.webkitRequestAnimationFrame || /* Safari */
                        window.msRequestAnimationFrame || /* IEMobile 10 */
                        window.mozRequestAnimationFrame || /* Firefox 22- */
                        function (callback) { window.setTimeout(callback, 1000 / 60); }; /* Android */

                        requestAnimationFrame(function () {
                            document.querySelector('.page__inner').classList.toggle('page__inner_swiped');
                        });
                </script>
            </div>
        </div>
    </div>
    <script src="/assets/js/v/6/magic.min.js"></script>
</body></html>

