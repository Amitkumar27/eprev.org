


<!DOCTYPE html>
<html lang="en"><head>
    <script>
        if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {
            document.documentElement.classList.add('support__touch_yes');
        } else {
            document.documentElement.classList.add('support__touch_no');
        }
     </script>
    <link href="/assets/css/v/11/magic.min.css" rel="stylesheet" media="all"/>
    
    <meta charset="utf-8"/>
    
        <title>Anton Eprev</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
        <meta name="description" content="Hello. My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands."/>
    
    <link rel="shortcut icon" href="/assets/icon.png"/>
    <link rel="alternate" type="application/atom+xml" title="Feed" href="/atom.xml"/>
    
</head><body>
    
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-12144011-2']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    
    <div class="page">
        <div class="page__arrow page__arrow_alt"></div>
        <div class="page__inner page__inner_animated">
            <div class="page__content" role="main">


    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2015/02/05/introduction-to-css-explorer">Introduction to CSS Explorer</a>
        
    </h2>
    <div class="post__meta">
        February 5, 2015
        
            ∙
            
                <a href="/tags/css">css</a>,
            
                <a href="/tags/javascript">javascript</a>
            
        
    </div>
    
        <div class="post__content">
            
            <p>I’ve been curious about the state of our CSS code and its changes over the time.
So I’ve written recently a program called <a href="https://github.com/eprev/specificity"><code>specificity</code></a>.
What does it do? It answers the following questions:</p>

<ol>
  <li>What is a total number of selectors in your CSS codebase?
How has it been changing over the time?</li>
  <li>What is a maximum/average/median selector‘s specificity of your CSS codebase?
How has it been changing over the time?</li>
  <li>How does the distribution of selector‘s specificity of your CSS codebase look like?
How has it been changing over the time?</li>
  <li>How many selectors in your CSS codebase contain at least one rule with the <code>!important</code> directive?
How has it been changing over the time?</li>
</ol>

<p>Wait, why is it so important? It’s not, until you have a codebase of dozens of
thousands lines of code that is hard to maintain and you used to do a lot of experiments.
And of course, if it’s not even important, it’s quite interesting at least.</p>

<p><img src="/assets/posts/css-explorer-distribution.png" alt="Screenshot of the ‘server’ report" /></p>

<p>So, <code>node-specificity</code> provides two commands. One is for parsing your CSS files and creating profiles.
Second is for reading or “exploring” these profiles. Let’s look at an example. I have a few versions of
<a href="https://github.com/eprev/specificity/tree/master/spec/fixtures/timeline">CSS</a> of the website
you’re reading right now. As I’m writing this post the website is using <code>v8.css</code>.</p>

<p>Alright, let’s create profiles for these files:</p>

<pre><code>$ node-specificity parse v1.css --label=v1 --output=v1.json
...
$ node-specificity parse v8.css --label=v8 --output=v8.json
</code></pre>

<p>We’ve created a profile for each CSS file since we want to observe changings over the time. If you use
more than one CSS file on your website, you have to create a profile for all of them, for instance:</p>

<pre><code>$ node-specificity parse main.css print.css --label=2014-12-23 --output=20141223.json
</code></pre>

<p>Label acts as a profile’s name in reports. Once we have profiles created, we are able to run a report.
Let’s start a ‘server’ report:</p>

<pre><code>$ node-specificity explore v*.json --report=server
Server is running on http://localhost:4000/
Press Ctrl + C to stop it.
</code></pre>

<p>Open a browser and go to “http://localhost:4000/”. Now you’re supposed to be seeing the page
with different controls and a weird graph. It‘s the specificity distribution bar chart (see in
the picture above). For each specificity (tuple) it shows the total number of selectors
of this specificity in the specific profile.</p>

<p>Other graphs are: number of selectors in your CSS files and total number of selectors in profiles,
how many of them contain rules with the <code>!important</code> directive, average and median
values of selector’s specificity for CSS files and profiles.</p>

<p><img src="/assets/posts/css-explorer-selectors.png" alt="Screenshot of the ‘server’ report" /></p>

<p>You are able to explore all these graphs for a specific profile. To do this, you have to
select the particular profile’s label in the dropdown list. For instance, it’s the specificity
distribution bar chart for ‘v8.json’ profile in the picture below.</p>

<p><img src="/assets/posts/css-explorer-profile.png" alt="Screenshot of the ‘server’ report" /></p>

<p>So, <code>server</code> report is quite a powerful tool. Bear in mind, images above are for the profiles
of one humble CSS file. If you have a few files for profile, it gets better.</p>

<p>There is also <code>inspect</code> report (it’s used as the default one). If you run <code>node-specificity explore v8.json</code>,
it will print out the list of all selectors in the given profile, the summary on specificity numbers
and the specificity distribution chart, which is very similar to the one you can see above.</p>

<p><img src="/assets/posts/css-explorer-cli.png" alt="Screenshot of the ‘server’ report" /></p>

<p>Reports can accept additional command line options. There are few of them. In the example above,
<code>--no-inspect-selectors</code> option has been used. It disables printing out the list of all selectors.</p>

<p>That’s it. Happy exploring!</p>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2015/01/26/whats-worth-watching">What’s worth watching</a>
        
    </h2>
    <div class="post__meta">
        January 26, 2015
        
            ∙
            
                <a href="/tags/worth-watching">worth-watching</a>,
            
                <a href="/tags/javascript">javascript</a>,
            
                <a href="/tags/devops">devops</a>
            
        
    </div>
    
        <div class="post__content">
            
            <ul class="post__content__list">
  <li><a href="https://twitter.com/KirbySayshi">Drew Petersen</a> (Spotify) on “<a href="https://www.youtube.com/watch?v=uNVP5jDOVAY">Developing Games Using Data not Trees</a>”: cons and pros of using data-oriented approach in game development.</li>
  <li><a href="https://twitter.com/danielespeset">Daniel Espeset</a> (Etsy) on “<a href="https://vimeo.com/109912254">The role of Front-end Infrastructure at Etsy</a>”: continuos deployment and experimentation-driven development, instruments that help to delete old code constantly.</li>
</ul>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2014/12/10/open-all-modified-files">Open all modified files in editor</a>
        
    </h2>
    <div class="post__meta">
        December 10, 2014
        
            ∙
            
                <a href="/tags/git">git</a>
            
        
    </div>
    
        <div class="post__content">
            
            <p>Often I finish working day without committing changes to the repository. Thus, next morning
I need to open all the files I was working yesterday. And I found an efficient way to do this.</p>

<pre><code>$ vim -p $(git diff --name-only HEAD | sed "s,$(git rev-parse --show-prefix),," | tr "\n" " ")
</code></pre>

<p>It opens Vim and loads all modified files in tabs. You could add this command as an alias to your <code>.bashrc</code>,
but adding this to <code>.gitconfig</code> seems like a better option. This is what you need to add to your <code>~/.gitconfig</code>.</p>

<pre><code>[alias]
open = "!vim -c \"cd $GIT_PREFIX\" -p $(git diff --name-only HEAD | tr '\\n' ' ')"
</code></pre>

<p>To run this command you need to type <code>git open</code> in the terminal. Since all commands prefixed with an exclamation
point are executed from the top-level directory of a repository, we need to change working directory in Vim to
the current one. And of course you can replace Vim by your favorite editor or event by <code>$EDITOR</code>.</p>

<p>Besides, If you use sort of file watchers to perform certain operations when files change, then
you would find the following command quite helpful. It changes modification time of all modified files at once.</p>

<pre><code>[alias]
touch = "!touch -c $(git diff --name-only HEAD | tr '\\n' ' ')"
</code></pre>

<p>You can find more handy aliases in <a href="https://github.com/eprev/dotfiles/blob/master/gitconfig">.dotfiles</a> of mine.</p>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2014/11/23/whats-worth-watching">What’s worth watching</a>
        
    </h2>
    <div class="post__meta">
        November 23, 2014
        
            ∙
            
                <a href="/tags/worth-watching">worth-watching</a>,
            
                <a href="/tags/javascript">javascript</a>,
            
                <a href="/tags/performance">performance</a>,
            
                <a href="/tags/media">media</a>
            
        
    </div>
    
        <div class="post__content">
            
            <ul class="post__content__list">
  <li>Bred Victor (MIT) on “<a href="https://vimeo.com/67076984">Media for Thinking the Unthinkable</a>”: incredible ideas that will probably change the way we present and understand things.</li>
  <li>Douglas Crockford on “<a href="http://www.youtube.com/watch?v=bo36MrBfTk4">The Better Parts</a>”: you aren’t supposed to use every feature of the language to write error-free programs. Douglas is sharing his favorite parts of JavaScript and coming ES6 standard.</li>
  <li>Facebook’s way to Flux and React in “<a href="http://www.youtube.com/watch?v=nYkdrAPrdcw">Rethinking Web App Development at Facebook</a>”.</li>
  <li>John-David Dalton (Lo-Dash) on “<a href="http://www.youtube.com/watch?v=NthmeLEhDDM">Unorthodox Performance</a>”: interesting techniques to improve JavaScript performance.</li>
  <li>Patrick Hamann (The Guardian) on “<a href="http://www.youtube.com/watch?v=_0Fk85to6hA">CSS and the Critical Path</a>”: dealing with performance bottlenecks in the browser from network to painting.</li>
</ul>

        </div>
    
</div>

    

    
        
        
        
        
        <div class="post">
    <h2 class="post__header">
        
            <a class="post__header__link" href="/2014/02/27/whats-worth-watching">What’s worth watching</a>
        
    </h2>
    <div class="post__meta">
        February 27, 2014
        
            ∙
            
                <a href="/tags/worth-watching">worth-watching</a>,
            
                <a href="/tags/javascript">javascript</a>,
            
                <a href="/tags/css">css</a>,
            
                <a href="/tags/ux">ux</a>,
            
                <a href="/tags/typography">typography</a>
            
        
    </div>
    
        <div class="post__content">
            
            <ul class="post__content__list">
  <li>Pete Hunt (Facebook) on “<a href="http://2013.jsconf.eu/speakers/pete-hunt-react-rethinking-best-practices.html">React: rethinking best practices</a>”.</li>
  <li>Steven Wittens on “<a href="http://www.youtube.com/watch?v=Zkx1aKv2z8o">Making things with maths</a>”.</li>
  <li>Interesting talk on <a href="https://vimeo.com/channels/cssday/70171266">border-radius</a> by Lea Verou.</li>
  <li><a href="https://vimeo.com/39441590">Inspiring talk</a> by Aaron James Draplin.</li>
  <li>Jason Santa Maria (A Book Apart) on “<a href="https://vimeo.com/34178417">Web typography</a>”.</li>
</ul>

        </div>
    
</div>

    

    

    

    

    

    


<div class="post">
    <h3 class="post__header">
        <a class="page__header__link" href="/archive/">Archive</a> &rsaquo;
    </h3>
</div>

            </div>
            <div class="page__sidebar">
                <div class="page__sidebar__inner">
                    
                        <h1 class="page__user__name">@eprev</h1>
                    
                    <div class="page__user__picture"></div>
                    <p>My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands.</p>
                    <ul class="page__nav">
                        <li>
                            
                                Recent
                            
                        </li>
                        <li>
                            
                                <a href="/archive/">Archive</a>
                            
                        </li>
                        <li>
                            
                                <a href="/labs/">Laboratory</a>
                            
                        </li>
                        <li>
                            
                                <a href="/tags/">Tags</a>
                            
                        </li>
                    </ul>
                    <p>Geeky Links:</p>
                    <ul class="page__nav">
                        <li><a href="http://twitter.com/eprev">Twitter</a></li>
                        <li><a href="http://github.com/eprev">GitHub</a></li>
                        <li><a href="http://www.flickr.com/photos/eprev/">Flickr</a></li>
                        <li><a href="http://careers.stackoverflow.com/eprev">Résumé</a></li>
                    </ul>
                </div>
                <script>
                    var requestAnimationFrame = window.requestAnimationFrame || /* Chrome, IE 10 */
                        window.webkitRequestAnimationFrame || /* Safari */
                        window.msRequestAnimationFrame || /* IEMobile 10 */
                        window.mozRequestAnimationFrame || /* Firefox 22- */
                        function (callback) { window.setTimeout(callback, 1000 / 60); }; /* Android */

                        requestAnimationFrame(function () {
                            document.querySelector('.page__inner').classList.toggle('page__inner_swiped');
                        });
                </script>
            </div>
        </div>
    </div>
    <script src="/assets/js/v/6/magic.min.js"></script>
</body></html>

