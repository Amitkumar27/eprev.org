


<!DOCTYPE html>
<html lang="en"><head>
    <script>
        if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {
            document.documentElement.classList.add('support__touch_yes');
        } else {
            document.documentElement.classList.add('support__touch_no');
        }
     </script>
     
     <style>@charset "UTF-8";body{margin:0}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}html{background-color:#e9eced;height:100%}body{color:#222;height:100%}a{color:inherit}body{font-family:Optima,Segoe,"Segoe UI",Candara,Calibri,Arial,sans-serif;font-size:18px;line-height:26px}h1,h2,h3,h4,h5,h6{margin:0 0 26px;text-rendering:optimizeLegibility;page-break-inside:avoid;font-weight:400}h1{font-size:36px;line-height:52px;text-transform:uppercase}h2{font-size:32px}h2,h3{line-height:52px}h3{font-size:27px}h4{font-size:24px;line-height:26px}h5{font-size:21px}h5,h6{line-height:26px}h6{font-size:18px}ul,ol,p,pre,blockquote{margin:26px 0}blockquote{font-style:italic;border-left:4px solid #d6d6d6;padding-left:1em}ul{list-style-position:outside}p{-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;-o-hyphens:auto;hyphens:auto}code{font-family:"Courier New",Courier,monospace;font-size:17px;line-height:1}abbr{letter-spacing:.1em}a{text-decoration:none;border-bottom:1px solid #555}.page{max-width:980px;min-width:320px;min-height:100%;margin:0 auto;overflow:hidden}.page__inner{position:relative;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translate3d(0,0);transform:translate3d(0,0,0);padding:13px 13px 13px 50px;height:100%}@media all and (min-width:768px){.page__inner{padding-left:13px}}.page__inner_animated{-webkit-transition:-webkit-transform 500ms ease;transition:transform 500ms ease}@media all and (max-width:767px){.page__inner_swiped{-webkit-transform:translate3d(80%,0,0);transform:translate3d(80%,0,0)}}.page__content{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;min-height:700px}@media all and (min-width:768px){.page__content{margin-left:30%}}.page__sidebar{position:absolute;top:0;left:0;width:80%;height:100%;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);-webkit-backface-visibility:hidden}@media all and (min-width:768px){.page__sidebar{width:30%;-webkit-transform:none;transform:none}}.page__sidebar__inner{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:13px;-webkit-transition:-webkit-transform 500ms ease-in-out;transition:transform 500ms ease-in-out}.page__footer{clear:both;padding-top:26px}.page__user__name{font-size:36px;line-height:52px;text-transform:none}.page__user__name a{border-bottom-style:none}.page__user__picture{width:156px;height:156px}.page__nav{padding:0;list-style:none}.page__arrow{position:fixed;margin-top:-48px;width:24px;height:96px;top:50%;left:13px;-webkit-transition:left 500ms ease-in-out,-webkit-transform 500ms ease-in-out;transition:left 500ms ease-in-out,transform 500ms ease-in-out;cursor:pointer;z-index:1}@media all and (min-width:768px){.page__arrow{display:none}}.page__arrow_alt{left:80%;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.support__touch_yes .page__inner{padding-left:13px}.support__touch_yes .page__arrow{display:none}.post{margin-bottom:26px}@media all and (min-width:768px){.post_special_home{display:none}}.post__meta{margin-bottom:26px;color:#555;text-transform:uppercase;font-size:15px}.post__content p{margin-top:0}.post__content p>img{display:block;margin:26px auto;max-width:100%}.post__content__list{list-style-type:square;padding-left:1em}.post__content__list li{margin:26px 0}.post__image{height:312px;margin-right:auto;margin-bottom:26px;margin-left:auto;background-repeat:no-repeat;background-position:50% 50%;background-size:cover}.post__footer{margin-top:26px}.archive{display:table;list-style:none;padding:0}.archive__item{display:table-row}.archive__date{color:#555;text-transform:uppercase;padding-right:1em}.archive__date,.archive__header{display:table-cell;padding-bottom:26px}.archive__header__link{font-size:21px;line-height:26px}.tags{list-style:none;padding:0}.tags__item{text-transform:uppercase;margin-bottom:26px}.tags__item__link{font-size:21px;line-height:26px}.post__content pre code{display:block;background:#e6e6e6;padding:26px;line-height:26px;word-wrap:break-word}</style>
    
    <meta charset="utf-8"/>
    
        <title>Mongo shell as an interactive JavaScript interpreter – Anton Eprev</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
        <meta name="description" content="Hello. My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands."/>
    
    <link rel="shortcut icon" href="/assets/icon.png"/>
    <link rel="alternate" type="application/atom+xml" title="Feed" href="/atom.xml"/>
    
        <meta property="og:url" content="http://eprev.org/2013/09/22/mongo-shell-as-an-interactive-javascript-interpreter/"/>
        <meta property="og:title" content="Mongo shell as an interactive JavaScript interpreter"/>
        <meta property="og:site_name" content="Anton Eprev"/>
        <meta property="og:type" content="article"/>
        <meta property="og:description" content="Do you know that MongoDB has JavaScript interpreter? And yes, you can use it."/>
        
            <meta property="og:image" content="http://eprev.org/assets/default-share-image.png"/>
            <meta name="twitter:card" content="summary"/>
        
        <meta name="twitter:creator" content="@eprev"/>
        <meta name="twitter:title" content="Mongo shell as an interactive JavaScript interpreter"/>
        <meta name="twitter:description" content="Do you know that MongoDB has JavaScript interpreter? And yes, you can use it."/>
        
    
</head><body>
    
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-12144011-2']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    
    <div class="page">
        <div class="page__arrow"></div>
        <div class="page__inner page__inner_animated page__inner_swiped">
            <div class="page__content" role="main">





<div class="post">
    <h1 class="post__header">
        
            Mongo shell as an interactive JavaScript interpreter
        
    </h1>
    <div class="post__meta">
        September 22, 2013
        
            ∙
            
                <a href="/tags/javascript/">javascript</a>,
            
                <a href="/tags/mongodb/">mongodb</a>
            
        
    </div>
    
        <div class="post__content">
            
            <p>Do you have MongoDB installed? If you do then you have JavaScript interpreter. MongoDB has SpiderMonkey JavaScript engine. To start an interactive shell you have to type <code>mongo --nodb</code> in the shell.</p>

<pre class="javascript"><code>$ mongo --nodb
MongoDB shell version: 2.2.0
&gt; var user = {name: "Anton Eprev", age: 27}
&gt; user
{ "name" : "Anton Eprev", "age" : 27 }
&gt; print(user)
[object Object]
&gt; printjson(user)
{ "name" : "Anton Eprev", "age" : 27 }
&gt; var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt; print(numbers)
1,2,3,4,5,6,7,8,9
&gt; printjson(numbers)
[ 1, 2, 3, 4, 5, 6, 7, 8, 9 ]
</code></pre>

<p>And of course the shell allows you to use loops, user functions and etc.:</p>

<pre class="javascript"><code>&gt; for (var i in user) { print(i, user[i]) }
name Anton Eprev
age 27
&gt; function add(x){ return function(y){ return x + y } }
&gt; add(3)(4)
7
&gt; {
... for (var i = 0; i &lt; 10; i++)
...     print(i)
... }
0
1
…
9
</code></pre>

<p>You can also use the <code>cat</code> function to read the file’s contents.</p>

<pre class="javascript"><code>&gt; var profile = cat('.profile')
&gt; profile
export PATH=/opt/local/bin:/opt/local/sbin:$PATH
…
</code></pre>

<p>You may even explore global scope by executing <code>printjson(this)</code> and find out the following functions:</p>

<pre class="javascript"><code>pwd()
ls()
cd()
mkdir()
hostname()
sleep()
hex_md5()
</code></pre>

<p>And finally, you can run a JavaScript file using MongoDB shell.</p>

<pre><code>$ cat hello.js
print("Hello World!");
$ mongo --nodb hello.js
MongoDB shell version: 2.2.0
Hello World!
</code></pre>

<p>Happy coding =]</p>

        </div>
    
</div>

<div class="post post_special_home">
    <h3 class="post__header">
        &lsaquo; <a class="page__header__link" href="/">Home</a>
    </h3>
</div>
            </div>
            <div class="page__sidebar">
                <div class="page__sidebar__inner">
                    
                        <h2 class="page__user__name"><a href="/">@eprev</a></h2>
                    
                    <div class="page__user__picture"></div>
                    <p>My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands.</p>
                    <ul class="page__nav">
                        <li>
                            
                                <a href="/">Recent</a>
                            
                        </li>
                        <li>
                            
                                <a href="/archive/">Archive</a>
                            
                        </li>
                        <li>
                            
                                <a href="/labs/">Laboratory</a>
                            
                        </li>
                        <li>
                            
                                <a href="/tags/">Tags</a>
                            
                        </li>
                    </ul>
                    <p>Geeky Links:</p>
                    <ul class="page__nav">
                        <li><a href="http://twitter.com/eprev">Twitter</a></li>
                        <li><a href="http://github.com/eprev">GitHub</a></li>
                        <li><a href="http://www.flickr.com/photos/eprev/">Flickr</a></li>
                        <li><a href="http://careers.stackoverflow.com/eprev">Résumé</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <script>function loadCSS(a){requestAnimationFrame(function(){var b=document.createElement("link"),c=document.getElementsByTagName("head")[0];b.rel="stylesheet",b.href=a,c.parentNode.insertBefore(b,c)})}var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)};requestAnimationFrame(function(){document.querySelector(".page__inner").classList.toggle("page__inner_swiped")});</script>
    
    <script>loadCSS("/assets/css/v/14/main.min.css");</script>
    <noscript>
        <link href="/assets/css/v/14/main.min.css" rel="stylesheet" media="all"/>
    </noscript>
    <script src="/assets/js/v/9/magic.min.js" async></script>
</body></html>

