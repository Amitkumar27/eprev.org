


<!DOCTYPE html>
<html lang="en"><head>
    <script>
        if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {
            document.documentElement.classList.add('support__touch_yes');
        } else {
            document.documentElement.classList.add('support__touch_no');
        }
     </script>
    <link href="/assets/css/v/13/magic.min.css" rel="stylesheet" media="all"/>
    
    <meta charset="utf-8"/>
    
        <title>Mongo shell as an interactive JavaScript interpreter – Anton Eprev</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
        <meta name="description" content="Hello. My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands."/>
    
    <link rel="shortcut icon" href="/assets/icon.png"/>
    <link rel="alternate" type="application/atom+xml" title="Feed" href="/atom.xml"/>
    
        <meta property="og:url" content="http://eprev.org/2013/09/22/mongo-shell-as-an-interactive-javascript-interpreter/"/>
        <meta property="og:title" content="Mongo shell as an interactive JavaScript interpreter"/>
        <meta property="og:site_name" content="Anton Eprev"/>
        <meta property="og:type" content="article"/>
        <meta property="og:description" content="Do you know that MongoDB has JavaScript interpreter? And yes, you can use it."/>
        
            <meta property="og:image" content="http://eprev.org/assets/default-share-image.png"/>
            <meta name="twitter:card" content="summary"/>
        
        <meta name="twitter:creator" content="@eprev"/>
        <meta name="twitter:title" content="Mongo shell as an interactive JavaScript interpreter"/>
        <meta name="twitter:description" content="Do you know that MongoDB has JavaScript interpreter? And yes, you can use it."/>
        
    
</head><body>
    
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-12144011-2']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    
    <div class="page">
        <div class="page__arrow"></div>
        <div class="page__inner page__inner_animated page__inner_swiped">
            <div class="page__content" role="main">





<div class="post">
    <h1 class="post__header">
        
            Mongo shell as an interactive JavaScript interpreter
        
    </h1>
    <div class="post__meta">
        September 22, 2013
        
            ∙
            
                <a href="/tags/javascript/">javascript</a>,
            
                <a href="/tags/mongodb/">mongodb</a>
            
        
    </div>
    
        <div class="post__content">
            
            <p>Do you have MongoDB installed? If you do then you have JavaScript interpreter. MongoDB has SpiderMonkey JavaScript engine. To start an interactive shell you have to type <code>mongo --nodb</code> in the shell.</p>

<pre class="javascript"><code>$ mongo --nodb
MongoDB shell version: 2.2.0
&gt; var user = {name: "Anton Eprev", age: 27}
&gt; user
{ "name" : "Anton Eprev", "age" : 27 }
&gt; print(user)
[object Object]
&gt; printjson(user)
{ "name" : "Anton Eprev", "age" : 27 }
&gt; var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt; print(numbers)
1,2,3,4,5,6,7,8,9
&gt; printjson(numbers)
[ 1, 2, 3, 4, 5, 6, 7, 8, 9 ]
</code></pre>

<p>And of course the shell allows you to use loops, user functions and etc.:</p>

<pre class="javascript"><code>&gt; for (var i in user) { print(i, user[i]) }
name Anton Eprev
age 27
&gt; function add(x){ return function(y){ return x + y } }
&gt; add(3)(4)
7
&gt; {
... for (var i = 0; i &lt; 10; i++)
...     print(i)
... }
0
1
…
9
</code></pre>

<p>You can also use the <code>cat</code> function to read the file’s contents.</p>

<pre class="javascript"><code>&gt; var profile = cat('.profile')
&gt; profile
export PATH=/opt/local/bin:/opt/local/sbin:$PATH
…
</code></pre>

<p>You may even explore global scope by executing <code>printjson(this)</code> and find out the following functions:</p>

<pre class="javascript"><code>pwd()
ls()
cd()
mkdir()
hostname()
sleep()
hex_md5()
</code></pre>

<p>And finally, you can run a JavaScript file using MongoDB shell.</p>

<pre><code>$ cat hello.js
print("Hello World!");
$ mongo --nodb hello.js
MongoDB shell version: 2.2.0
Hello World!
</code></pre>

<p>Happy coding =]</p>

        </div>
    
</div>

<div class="post post_special_home">
    <h3 class="post__header">
        &lsaquo; <a class="page__header__link" href="/">Home</a>
    </h3>
</div>
            </div>
            <div class="page__sidebar">
                <div class="page__sidebar__inner">
                    
                        <h2 class="page__user__name"><a href="/">@eprev</a></h2>
                    
                    <div class="page__user__picture"></div>
                    <p>My name’s Anton Eprev and I’m a web developer working as front-end engineer at Booking.com in Amsterdam, Netherlands.</p>
                    <ul class="page__nav">
                        <li>
                            
                                <a href="/">Recent</a>
                            
                        </li>
                        <li>
                            
                                <a href="/archive/">Archive</a>
                            
                        </li>
                        <li>
                            
                                <a href="/labs/">Laboratory</a>
                            
                        </li>
                        <li>
                            
                                <a href="/tags/">Tags</a>
                            
                        </li>
                    </ul>
                    <p>Geeky Links:</p>
                    <ul class="page__nav">
                        <li><a href="http://twitter.com/eprev">Twitter</a></li>
                        <li><a href="http://github.com/eprev">GitHub</a></li>
                        <li><a href="http://www.flickr.com/photos/eprev/">Flickr</a></li>
                        <li><a href="http://careers.stackoverflow.com/eprev">Résumé</a></li>
                    </ul>
                </div>
                <script>
                    var requestAnimationFrame = window.requestAnimationFrame || /* Chrome, IE 10 */
                        window.webkitRequestAnimationFrame || /* Safari */
                        window.msRequestAnimationFrame || /* IEMobile 10 */
                        window.mozRequestAnimationFrame || /* Firefox 22- */
                        function (callback) { window.setTimeout(callback, 1000 / 60); }; /* Android */

                        requestAnimationFrame(function () {
                            document.querySelector('.page__inner').classList.toggle('page__inner_swiped');
                        });
                </script>
            </div>
        </div>
    </div>
    <script src="/assets/js/v/6/magic.min.js"></script>
</body></html>

